extends layout

block content
  div.container.theme-showcase(role="main")
    div.jumbotron
      h1= title
    div(ng-app="myApp" ng-controller="gestor")
      form.form-inline(role="form")
        div.form-group
          label IP DEL SERVIDOR:
          input(placeholder="192.0  168.0 1.1:3000" ng-model="servidor" pattern="^(?:[0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,4}" required)
        button.btn-primary(type="submit" ng-click="guardarServidor(servidor)") añadir
      div.container(ng-repeat="servidor in servidores track by $index")
        h1.text-center {{servidor.servidor}}
        form.form-inline(role="form")
          div.form-group
            label PROCESO:
            input(placeholder="1" ng-model="pro" pattern="[0-9]{1,4}" required)
          button.btn-primary(type="submit" ng-click="crear(pro, servidor)") crear
        table.table.table-hover
          thead
            tr
              th Id proceso
              th
              th
              th Coordinador
              th Estado Elección
              th Estado proceso
          tbody(ng-repeat="proceso in servidor.procesos track by $index")
            tr
              td {{proceso}}
              td
                button.btn.btn-success(ng-click="arrancar(proceso, servidor.servidor)") arrancar
              td
                button.btn.btn-danger(ng-click="parar(proceso, servidor.servidor)") parar
              td {{infoProcesos[proceso].coordinador}}
              td {{infoProcesos[proceso].eleccion}}
              td {{infoProcesos[proceso].estado}}

  script(src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js")
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css")
  script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js")
  script(src="javascripts/controllers/gestor.js")
